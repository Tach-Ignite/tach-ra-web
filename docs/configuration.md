# Configuration

This RA is designed to be fully extensible, where any service provider can be added and utilized via configuration. Swapping out service providers is as simple as changing a configuration file.

## tach.config.js

This file stores the main configuration settings. You can learn more about the [tach configuration](./tach_configuration.md) in the documentation.

## Tach CLI Configuration

We have developed a CLI tool to help you manage your configuration settings. The `configure` command will walk you through setting up your tach.config.js file as well as defining any necessary environment variables and secrets.

### NPM Commands

There are three convenient NPM commands to help you manage your configuration settings:

- `pnpm configure:all` - This command will walk you through every single configuration setting. The tach.config.js file will be updated based on your input, as will the environment variables and secrets.
- `pnpm configure:minimal` - This command will walk you through the minimal configuration settings needed to run the app locally. However, it does not configure any external services such as AWS or Github.
- `pnpm configure:from-tach-config` - This command utilizes the settings already defined in the `tach.config.js` file to configure the environment variables and secrets, along with any other settings needed to run and deploy the application. This command is ideal to avoid unintentially changing your service providers, for example if you're setting your repo up for external environments like `dev` or `prod`. The `tach.config.js` is checked into source control and deployed as a part of your application; any changes to service providers should be an intentional action.
- `pnpm configure:ssl-cert-arn` - This command will allow you to add the certificate ARN for your SSL certificate. This certificate can be generated by running the shared resources stack, either through github actions or manually from the `infra` folder (not recommended).

### Additional CLI Configuration Capabilities

If you would like to exert more fine-grained control over the services you are configuring, the CLI Configuration command has the capability to configure each service provider individually.

The CLI Configuration tool can be found here:

`./src/lib/utils/config/configure.ts`

To view the help menu for the CLI Configuration tool, it can be run with the following command:

```bash
npx tsx ./src/lib/utils/config/configure.ts help configure
```
